containers:
  default:
    docker: node:12.16.1-stretch

steps:
- label: Tests
  timeout: 5m
  run:
  - npm ci
  - npm test

- label: Lint
  timeout: 5m
  run:
  - npm ci
  - npm run lint

- label: Formatting
  timeout: 5m
  cache:
  - "$HOME/.npm"
  run:
  - npm ci
  - npm run fmt:check
